<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dice Betting Game</title>
<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    height: 100vh;
    display: flex;
    color: white;
}

/* LEFT PANEL */
.left {
    width: 25%;
    background: #2f2f2f;
    padding: 20px;
    box-sizing: border-box;
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
}

.coin-display {
    position: absolute;
    top: 15px;
    right: 15px;
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 18px;
}

.coin-display img { width: 24px; }

.dice-faces {
    margin-top: 60px;
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
}

.face {
    background: #555;
    border-radius: 8px;
    padding: 20px;
    text-align: center;
    font-size: 24px;
    cursor: pointer;
}

.face.selected { background: #1e90ff; }

.multiplier { margin: 15px 0; }

/* BET INPUT */
.bet-box {
    background: #3b3b3b;
    padding: 12px;
    border-radius: 10px;
    margin-bottom: 12px;
    box-sizing: border-box;
}

.bet-box input {
    width: 100%;
    padding: 12px;
    font-size: 18px;
    border-radius: 8px;
    border: none;
    outline: none;
    background: #1f1f1f;
    color: #7CFC90;
    text-align: center;
    box-sizing: border-box;
    box-shadow: inset 0 0 5px rgba(0,0,0,0.6);
}

.bet-box input:focus {
    box-shadow: 0 0 8px #7CFC90;
}

/* REMOVE NUMBER ARROWS */
input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
input[type=number] { -moz-appearance: textfield; }

/* BET BUTTON */
button {
    width: 100%;
    padding: 14px;
    font-size: 20px;
    background: #7CFC90;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-weight: bold;
    box-sizing: border-box;
}

button:disabled { opacity: 0.6; }

/* RIGHT PANEL */
.right {
    width: 75%;
    background: #555;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
}

/* DICE */
.dice {
    width: 150px;
    height: 150px;
    background: white;
    border-radius: 12px;
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(3, 1fr);
    padding: 15px;
    transition: background 0.4s;
}

.dice.rolling { animation: shake 0.15s infinite; }

@keyframes shake {
    0% { transform: rotate(0deg); }
    25% { transform: rotate(3deg); }
    50% { transform: rotate(0deg); }
    75% { transform: rotate(-3deg); }
    100% { transform: rotate(0deg); }
}

/* WIN / LOSS GLOW */
.dice.win { animation: glow 0.8s ease-in-out infinite alternate; }
.dice.lose { animation: glow-red 0.8s ease-in-out infinite alternate; }

@keyframes glow {
    from { box-shadow: 0 0 15px gold; }
    to { box-shadow: 0 0 35px gold; }
}

@keyframes glow-red {
    from { box-shadow: 0 0 15px red; }
    to { box-shadow: 0 0 35px red; }
}

.pip {
    width: 18px;
    height: 18px;
    background: black;
    border-radius: 50%;
    margin: auto;
    visibility: hidden;
}

/* COIN BURST */
.coin {
    position: absolute;
    width: 24px;
    pointer-events: none;
    animation: burst 1s ease-out forwards;
}

@keyframes burst {
    from { transform: translate(0,0) scale(1); opacity: 1; }
    to { transform: translate(var(--x), -120px) scale(0.5); opacity: 0; }
}

.result { margin-top: 20px; font-size: 20px; }
</style>
</head>

<body>

<div class="left">
    <div class="coin-display">
        <img src="https://www.wtfq.online/Tokens/coin.png">
        <span id="coins">0</span>
    </div>

    <div class="dice-faces">
        <div class="face">1</div><div class="face">2</div><div class="face">3</div>
        <div class="face">4</div><div class="face">5</div><div class="face">6</div>
    </div>

    <div class="multiplier">Multiplier: <span id="multiplier">0x</span></div>

    <div class="bet-box">
        <input type="number" id="betAmount" placeholder="Enter bet">
    </div>

    <button id="betBtn">BET</button>
</div>

<div class="right">
    <div class="dice" id="dice">
        <div class="pip"></div><div class="pip"></div><div class="pip"></div>
        <div class="pip"></div><div class="pip"></div><div class="pip"></div>
        <div class="pip"></div><div class="pip"></div><div class="pip"></div>
    </div>
    <div class="result" id="resultText"></div>
</div>

<script>
const faces = document.querySelectorAll('.face');
const dice = document.getElementById('dice');
const pips = dice.children;
const coinsEl = document.getElementById('coins');
const betBtn = document.getElementById('betBtn');
const resultText = document.getElementById('resultText');
const multiplierText = document.getElementById('multiplier');
const betAmount = document.getElementById('betAmount');

// Even game multipliers (just for display)
const multipliers = {1:6, 2:3, 3:2};

/* COINS */
function getCoins() {
    const c = document.cookie.match(/coins=(\d+)/);
    return c ? +c[1] : 1000;
}
function setCoins(v) {
    document.cookie = "coins=" + v + ";path=/";
    coinsEl.textContent = v;
}
setCoins(getCoins());

/* DICE DISPLAY */
function showDice(n) {
    [...pips].forEach(p => p.style.visibility = "hidden");
    const map = {
        1:[4],2:[0,8],3:[0,4,8],
        4:[0,2,6,8],5:[0,2,4,6,8],6:[0,2,3,5,6,8]
    };
    map[n].forEach(i => pips[i].style.visibility = "visible");
}

/* RANDOM FACE ON LOAD */
showDice(Math.floor(Math.random() * 6) + 1);

/* FACE PICKING */
faces.forEach(face => face.onclick = () => {
    const sel = document.querySelectorAll('.face.selected');
    if (face.classList.contains('selected')) face.classList.remove('selected');
    else if (sel.length < 3) face.classList.add('selected'); // max 3 numbers
    if (!document.querySelector('.face.selected')) face.classList.add('selected');

    const c = document.querySelectorAll('.face.selected').length;
    multiplierText.textContent = multipliers[c] ? multipliers[c] + "x" : "0x";
});

/* COIN BURST */
function coinBurst() {
    for (let i = 0; i < 12; i++) {
        const c = document.createElement("img");
        c.src = "https://www.wtfq.online/Tokens/coin.png";
        c.className = "coin";
        c.style.left = "50%";
        c.style.top = "45%";
        c.style.setProperty("--x", (Math.random()*200-100)+"px");
        document.querySelector('.right').appendChild(c);
        setTimeout(() => c.remove(), 1000);
    }
}

/* BET */
betBtn.onclick = () => {
    const bet = +betAmount.value;
    const picks = [...document.querySelectorAll('.face.selected')].map(f => f.textContent);

    // VALIDATION
    if (!picks.length) return alert("Please select at least one dice face!");
    if (!bet || bet <= 0) return alert("Please enter a valid bet greater than 0!");

    betBtn.disabled = true;
    dice.classList.remove("win","lose");
    dice.classList.add("rolling");
    resultText.textContent = "";

    let anim = setInterval(() => showDice(Math.floor(Math.random()*6)+1), 100);

    setTimeout(() => {
        clearInterval(anim);
        dice.classList.remove("rolling");

        // Fair dice roll
        const roll = Math.floor(Math.random() * 6) + 1;
        showDice(roll);

        if (picks.includes(String(roll))) {
            dice.classList.add("win");
            const payout = Math.floor(bet * multipliers[picks.length]);
            // Even game â†’ player keeps original coins + payout for fun
            setCoins(getCoins()); // coins stay the same
            resultText.textContent = "You won " + payout + " coins! (Even game, coins unchanged)";
            coinBurst();
        } else {
            dice.classList.add("lose");
            setCoins(getCoins()); // coins stay the same
            resultText.textContent = "You lost! (Even game, coins unchanged)";
        }

        betBtn.disabled = false;
    }, 900);
};
</script>
</body>
</html>
